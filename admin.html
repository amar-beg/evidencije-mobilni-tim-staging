<!DOCTYPE html>
<html lang="bs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Panel â€“ Mobilni tim</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="192x192" href="/icon-192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/icon-512.png">
  
  <!-- Apple Touch Icons -->
  <link rel="apple-touch-icon" href="/icon-192.png">
  <link rel="apple-touch-icon" sizes="512x512" href="/icon-512.png">
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="/manifest.json">
  
  <!-- Theme color -->
  <meta name="theme-color" content="#3498db">
  
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="admin-styles.css">
</head>
<body>
  <div class="container">
    <!-- Navigacija -->
    <nav class="app-nav">
      <a href="app.html" class="nav-link">ğŸ“Š Evidencija</a>
      <a href="admin.html" class="nav-link active">ğŸ‘¤ Admin panel</a>
      <button onclick="logout()" class="btn-logout">Odjavi se</button>
    </nav>

    <div class="app-header">
      <h1>Admin Panel</h1>
      <p>Dodavanje novih korisnika</p>
    </div>

    <!-- Statistika -->
    <div class="stats-grid" id="statsGrid" style="display: none;">
      <div class="stat-card">
        <div class="stat-value" id="totalUsers">0</div>
        <div class="stat-label">Ukupno korisnika</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="totalPsiholog">0</div>
        <div class="stat-label">Psihologa</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="totalDefektolog">0</div>
        <div class="stat-label">Defektologa</div>
      </div>
      <div class="stat-card">
        <div class="stat-value" id="totalLogoped">0</div>
        <div class="stat-label">Logopeda</div>
      </div>
    </div>

    <!-- Forma za dodavanje korisnika -->
    <div class="result-message" id="adminMessage" role="status" aria-live="polite"></div>

    <form id="addUserForm">
      <div class="form-grid">
        <div class="form-group">
          <label for="userFirstName">Ime <span class="required">*</span></label>
          <input 
            type="text" 
            id="userFirstName" 
            name="userFirstName" 
            placeholder="Npr. Amar"
            required 
            aria-required="true"
          >
          <span class="field-error" id="error-userFirstName" role="alert"></span>
        </div>

        <div class="form-group">
          <label for="userLastName">Prezime <span class="required">*</span></label>
          <input 
            type="text" 
            id="userLastName" 
            name="userLastName" 
            placeholder="Npr. Begluk"
            required 
            aria-required="true"
          >
          <span class="field-error" id="error-userLastName" role="alert"></span>
        </div>

        <div class="form-group full-width">
          <label for="userEmail">Email korisnika <span class="required">*</span></label>
          <input 
            type="email" 
            id="userEmail" 
            name="userEmail" 
            placeholder="novi.korisnik@gmail.com"
            required 
            aria-required="true"
          >
          <span class="field-error" id="error-userEmail" role="alert"></span>
        </div>

        <div class="form-group">
          <label for="userPosition">Pozicija <span class="required">*</span></label>
          <select id="userPosition" name="userPosition" required aria-required="true">
            <option value="">-- Odaberite poziciju --</option>
            <option value="Psiholog">Psiholog</option>
            <option value="Defektolog">Defektolog</option>
            <option value="Logoped">Logoped</option>
          </select>
          <span class="field-error" id="error-userPosition" role="alert"></span>
        </div>

        <div class="form-group">
          <label for="userHomeSchool">MatiÄna Å¡kola <span class="required">*</span></label>
          <select id="userHomeSchool" name="userHomeSchool" required aria-required="true">
            <option value="">-- Odaberite Å¡kolu --</option>
            <option value="JU &quot;ÄŒetvrta osnovna Å¡kola&quot;">JU "ÄŒetvrta osnovna Å¡kola"</option>
            <option value="JU &quot;Deseta osnovna Å¡kola&quot;">JU "Deseta osnovna Å¡kola"</option>
            <option value="JU &quot;Deveta osnovna Å¡kola&quot;">JU "Deveta osnovna Å¡kola"</option>
            <option value="JU &quot;Druga osnovna Å¡kola&quot;">JU "Druga osnovna Å¡kola"</option>
            <option value="JU &quot;Peta osnovna Å¡kola&quot;">JU "Peta osnovna Å¡kola"</option>
            <option value="JU &quot;Prva osnovna Å¡kola&quot; IlidÅ¾a">JU "Prva osnovna Å¡kola" IlidÅ¾a</option>
            <option value="JU &quot;Sedma osnovna Å¡kola&quot; IlidÅ¾a">JU "Sedma osnovna Å¡kola" IlidÅ¾a</option>
            <option value="JU &quot;Å esta osnovna Å¡kola&quot;">JU "Å esta osnovna Å¡kola"</option>
            <option value="JU &quot;TreÄ‡a osnovna Å¡kola&quot;">JU "TreÄ‡a osnovna Å¡kola"</option>
            <option value="JU &quot;9. maj&quot; PazariÄ‡">JU "9. maj" PazariÄ‡</option>
            <option value="JU Centar za odgoj, obrazovanje i rehabilitaciju &quot;Vladimir Nazor&quot;">JU Centar za odgoj, obrazovanje i rehabilitaciju "Vladimir Nazor"</option>
            <option value="JU Centar za sluÅ¡nu i govornu rehabilitaciju, Sarajevo">JU Centar za sluÅ¡nu i govornu rehabilitaciju, Sarajevo</option>
            <option value="JU Centar za slijepu i slabovidnu djecu i omladinu, Sarajevo">JU Centar za slijepu i slabovidnu djecu i omladinu, Sarajevo</option>
            <option value="JU Osma osnovna Å¡kola &quot;Amer Ä†enanoviÄ‡&quot; IlidÅ¾a">JU Osma osnovna Å¡kola "Amer Ä†enanoviÄ‡" IlidÅ¾a</option>
            <option value="JU Osnovna muziÄka i baletska Å¡kola &quot;Novo Sarajevo&quot;">JU Osnovna muziÄka i baletska Å¡kola "Novo Sarajevo"</option>
            <option value="JU Osnovna muziÄka Å¡kola &quot;Mladen PozajiÄ‡&quot;">JU Osnovna muziÄka Å¡kola "Mladen PozajiÄ‡"</option>
            <option value="JU Osnovna muziÄka Å¡kola IlidÅ¾a">JU Osnovna muziÄka Å¡kola IlidÅ¾a</option>
            <option value="JU Srednja medicinska Å¡kola - Jezero Sarajevo">JU Srednja medicinska Å¡kola - Jezero Sarajevo</option>
            <option value="JU Srednja Å¡kola primijenjenih umjetnosti">JU Srednja Å¡kola primijenjenih umjetnosti</option>
            <option value="JU Zavod za specijalno obrazovanje i odgoj djece &quot;Mjedenica&quot;">JU Zavod za specijalno obrazovanje i odgoj djece "Mjedenica"</option>
            <option value="JU OÅ  &quot;6. mart&quot;">JU OÅ  "6. mart"</option>
            <option value="JU OÅ  &quot;Aleksa Å antiÄ‡&quot;">JU OÅ  "Aleksa Å antiÄ‡"</option>
            <option value="JU OÅ  &quot;Alija Nametak&quot;">JU OÅ  "Alija Nametak"</option>
            <option value="JU OÅ  &quot;Aneks&quot;">JU OÅ  "Aneks"</option>
            <option value="JU OÅ  &quot;Avdo SmajloviÄ‡&quot;">JU OÅ  "Avdo SmajloviÄ‡"</option>
            <option value="JU OÅ  &quot;Behaudin SelmanoviÄ‡&quot;">JU OÅ  "Behaudin SelmanoviÄ‡"</option>
            <option value="JU OÅ  &quot;ÄŒamil SijariÄ‡&quot;">JU OÅ  "ÄŒamil SijariÄ‡"</option>
            <option value="JU OÅ  &quot;ÄŒengiÄ‡ Vila I&quot;">JU OÅ  "ÄŒengiÄ‡ Vila I"</option>
            <option value="JU OÅ  &quot;DÅ¾emaludin ÄŒauÅ¡eviÄ‡&quot;">JU OÅ  "DÅ¾emaludin ÄŒauÅ¡eviÄ‡"</option>
            <option value="JU OÅ  &quot;Edhem MulabdiÄ‡&quot;">JU OÅ  "Edhem MulabdiÄ‡"</option>
            <option value="JU OÅ  &quot;Fatima GuniÄ‡&quot;">JU OÅ  "Fatima GuniÄ‡"</option>
            <option value="JU OÅ  &quot;Grbavica I&quot;">JU OÅ  "Grbavica I"</option>
            <option value="JU OÅ  &quot;Grbavica II&quot;">JU OÅ  "Grbavica II"</option>
            <option value="JU OÅ  &quot;Hamdija KreÅ¡evljakoviÄ‡&quot;">JU OÅ  "Hamdija KreÅ¡evljakoviÄ‡"</option>
            <option value="JU OÅ  &quot;Hasan Kaimija&quot;">JU OÅ  "Hasan Kaimija"</option>
            <option value="JU OÅ  &quot;Hasan KikiÄ‡&quot;">JU OÅ  "Hasan KikiÄ‡"</option>
            <option value="JU OÅ  &quot;HaÅ¡im SpahiÄ‡&quot;">JU OÅ  "HaÅ¡im SpahiÄ‡"</option>
            <option value="JU OÅ  &quot;Hilmi ef. Å ariÄ‡&quot; TarÄin">JU OÅ  "Hilmi ef. Å ariÄ‡" TarÄin</option>
            <option value="JU OÅ  &quot;Hrasno&quot;">JU OÅ  "Hrasno"</option>
            <option value="JU OÅ  &quot;Isak Samokovlija&quot;">JU OÅ  "Isak Samokovlija"</option>
            <option value="JU OÅ  &quot;Izet Å abiÄ‡&quot;">JU OÅ  "Izet Å abiÄ‡"</option>
            <option value="JU OÅ  &quot;KovaÄiÄ‡i&quot;">JU OÅ  "KovaÄiÄ‡i"</option>
            <option value="JU OÅ  &quot;Malta&quot;">JU OÅ  "Malta"</option>
            <option value="JU OÅ  &quot;Mehmed-beg KapetanoviÄ‡ LjubuÅ¡ak&quot;">JU OÅ  "Mehmed-beg KapetanoviÄ‡ LjubuÅ¡ak"</option>
            <option value="JU OÅ  &quot;Mehmedalija Mak Dizdar&quot;">JU OÅ  "Mehmedalija Mak Dizdar"</option>
            <option value="JU OÅ  &quot;MeÅ¡a SelimoviÄ‡&quot;">JU OÅ  "MeÅ¡a SelimoviÄ‡"</option>
            <option value="JU OÅ  &quot;Mirsad Prnjavorac&quot;">JU OÅ  "Mirsad Prnjavorac"</option>
            <option value="JU OÅ  &quot;Mula Mustafa BaÅ¡eskija&quot;">JU OÅ  "Mula Mustafa BaÅ¡eskija"</option>
            <option value="JU OÅ  &quot;Musa Ä†azim Ä†atiÄ‡&quot;">JU OÅ  "Musa Ä†azim Ä†atiÄ‡"</option>
            <option value="JU OÅ  &quot;Mustafa BusuladÅ¾iÄ‡&quot;">JU OÅ  "Mustafa BusuladÅ¾iÄ‡"</option>
            <option value="JU OÅ  &quot;Nafija SarajliÄ‡&quot;">JU OÅ  "Nafija SarajliÄ‡"</option>
            <option value="JU OÅ  &quot;Osman NakaÅ¡&quot;">JU OÅ  "Osman NakaÅ¡"</option>
            <option value="JU OÅ  &quot;Osman Nuri HadÅ¾iÄ‡&quot;">JU OÅ  "Osman Nuri HadÅ¾iÄ‡"</option>
            <option value="JU OÅ  &quot;Podlugovi&quot;">JU OÅ  "Podlugovi"</option>
            <option value="JU OÅ  &quot;PofaliÄ‡i&quot;">JU OÅ  "PofaliÄ‡i"</option>
            <option value="JU OÅ  &quot;Porodice ef. RamiÄ‡&quot; Semizovac">JU OÅ  "Porodice ef. RamiÄ‡" Semizovac</option>
            <option value="JU OÅ  &quot;Saburina&quot;">JU OÅ  "Saburina"</option>
            <option value="JU OÅ  &quot;Safvet-beg BaÅ¡agiÄ‡&quot;">JU OÅ  "Safvet-beg BaÅ¡agiÄ‡"</option>
            <option value="JU OÅ  &quot;Silvije Strahimir KranjÄeviÄ‡&quot;">JU OÅ  "Silvije Strahimir KranjÄeviÄ‡"</option>
            <option value="JU OÅ  &quot;Skender KulenoviÄ‡&quot;">JU OÅ  "Skender KulenoviÄ‡"</option>
            <option value="JU OÅ  &quot;Sokolje&quot;">JU OÅ  "Sokolje"</option>
            <option value="JU OÅ  &quot;Stari IlijaÅ¡&quot;">JU OÅ  "Stari IlijaÅ¡"</option>
            <option value="JU OÅ  &quot;Å ejh Muhamed ef. HadÅ¾ijamakoviÄ‡&quot;">JU OÅ  "Å ejh Muhamed ef. HadÅ¾ijamakoviÄ‡"</option>
            <option value="JU OÅ  &quot;Å ip&quot;">JU OÅ  "Å ip"</option>
            <option value="JU OÅ  &quot;Umihana ÄŒuvidina&quot;">JU OÅ  "Umihana ÄŒuvidina"</option>
            <option value="JU OÅ  &quot;VeleÅ¡iÄ‡ki heroji&quot;">JU OÅ  "VeleÅ¡iÄ‡ki heroji"</option>
            <option value="JU OÅ  &quot;Vladislav SkariÄ‡&quot;">JU OÅ  "Vladislav SkariÄ‡"</option>
            <option value="JU OÅ  &quot;Vrhbosna&quot;">JU OÅ  "Vrhbosna"</option>
            <option value="JU OÅ  &quot;Zahid BaruÄija&quot;">JU OÅ  "Zahid BaruÄija"</option>
            <option value="JU OÅ  &quot;Zajko DeliÄ‡&quot;">JU OÅ  "Zajko DeliÄ‡"</option>
          </select>
          <span class="field-error" id="error-userHomeSchool" role="alert"></span>
        </div>

        <div class="form-group full-width">
          <label for="userRole">Uloga u sistemu <span class="required">*</span></label>
          <select id="userRole" name="userRole" required aria-required="true">
            <option value="user">ObiÄni korisnik</option>
            <option value="admin">Administrator</option>
          </select>
          <span class="field-error" id="error-userRole" role="alert"></span>
          <small style="color: var(--text-light); display: block; margin-top: 0.25rem;">
            Administratori mogu dodavati nove korisnike
          </small>
        </div>
      </div>

      <div class="submit-wrapper">
        <button type="submit" id="addUserBtn">Dodaj korisnika</button>
      </div>
    </form>

    <!-- Prikaz kreiranih podataka -->
    <div class="info-card" id="userCreatedCard" style="display: none;">
      <h3 style="margin-top: 0; color: var(--success);">âœ… Korisnik uspjeÅ¡no kreiran!</h3>
      <div style="background: #f8f9fa; padding: 1rem; border-radius: 4px; margin: 1rem 0;">
        <p style="margin: 0.5rem 0;"><strong>Ime i prezime:</strong> <span id="createdFullName"></span></p>
        <p style="margin: 0.5rem 0;"><strong>Email:</strong> <span id="createdEmail"></span></p>
        <p style="margin: 0.5rem 0;"><strong>Privremeni password:</strong> <code id="createdPassword" style="background: white; padding: 0.25rem 0.5rem; border-radius: 3px;"></code></p>
        <p style="margin: 0.5rem 0;"><strong>Pozicija:</strong> <span id="createdPosition"></span></p>
        <p style="margin: 0.5rem 0;"><strong>MatiÄna Å¡kola:</strong> <span id="createdSchool"></span></p>
      </div>
      <button onclick="copyCredentials()" class="btn-secondary">ğŸ“‹ Kopiraj podatke</button>
      <button onclick="hideCreatedCard()" class="btn-secondary" style="margin-left: 0.5rem;">Zatvori</button>
    </div>

    <!-- Lista korisnika (opcionalno) -->
    <div id="usersListSection" style="display: none; margin-top: 2rem;">
      <h2>Svi korisnici</h2>
      <div id="usersList"></div>
    </div>
  </div>

  <script src="admin.js"></script>
  
  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(registration => {
            console.log('âœ… Service Worker registered:', registration.scope);
          })
          .catch(error => {
            console.log('âŒ Service Worker registration failed:', error);
          });
      });
    }
  </script>
</body>
</html>